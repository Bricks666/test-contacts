"use strict";(self.webpackChunktest_contacts=self.webpackChunktest_contacts||[]).push([[109],{6109:function(n,e,t){t.r(e),t.d(e,{default:function(){return pn}});var r,a,s,c,i,l,o,u=t(2791),d=t(8074),m=t(4942),h=t(7689),Z=t(1134),p=t(7205),x=t(5403),f=t(2208),j=t(168),v=t(277),g=(0,v.ZP)("form")(r||(r=(0,j.Z)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr max-content;\n\tgap: 15px;\n\n\t@media (max-width: 540px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n"]))),b=t(3088),k=t(4819),y=t.n(k),N=y().object({search:y().string().allow("")}),w=t(885),C=function(n,e){var t=n.hash,r=n.pathname,a=n.search,s=e.path,c=e.keepOldQuery,i=void 0!==c&&c,l=e.query,o=void 0===l?{}:l,u=null!==s&&void 0!==s?s:r,d=new URLSearchParams(i?a:{});return Object.entries(o).forEach((function(n){var e=(0,w.Z)(n,2),t=e[0],r=e[1];r&&d.set(t,r)})),"".concat(u,"?").concat(d,"#").concat(t)},I=t(2212),P=t(184),S=u.memo((function(n){var e=n.className,t=(0,Z.cI)({defaultValues:{search:""},resolver:(0,f.L)(N)}),r=t.control,a=t.handleSubmit,s=(0,h.s0)(),c=(0,h.TH)(),i=u.useCallback((function(n){var e=n.search;s(C(c,{query:(0,m.Z)({},I.W.search,e)}))}),[s,c]);return(0,P.jsxs)(g,{className:e,onSubmit:a(i),children:[(0,P.jsx)(b.g,{name:"search",control:r,label:"\u0418\u043c\u044f \u0438\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"}),(0,P.jsx)(p.Z,{type:"submit",variant:"outlined",endIcon:(0,P.jsx)(x.Z,{}),children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})})),L=t(1413),E=t(5629),T=t(6580),W=(0,v.ZP)(T.Z)(a||(a=(0,j.Z)(["\n\tmargin: 0 auto;\n"]))),q=t(1573),O=t(7061),H=t(3626),Q=t(4165),R=t(5861),U=t(1087),V=t(7869),_=t(3360),D=t(4346),F=t(3369),M=t(3811),Y=t(2352),z=t(9580),A=t(5514),B=t(2359),G=t(1286),J=t(7247),K=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,u.useState)(n),t=(0,w.Z)(e,2),r=t[0],a=t[1],s=(0,u.useCallback)((function(){return a((function(n){return!n}))}),[]);return[r,s]},X=t(5556),$=u.memo((function(n){var e=n.className,t=n.id,r=n.name,a=n.value,s=u.useRef(null),c=(0,H.Nt)(),i=(0,w.Z)(c,1)[0],l=K(!1),o=(0,w.Z)(l,2),d=o[0],Z=o[1],p=(0,h.TH)(),x=u.useMemo((function(){var n;return[{label:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",href:C(p,{query:(n={},(0,m.Z)(n,I.W.popups,X.x.editContact),(0,m.Z)(n,I.W.contactId,t.toString()),n),keepOldQuery:!0}),Icon:G.Z},{label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:function(){var n=(0,R.Z)((0,Q.Z)().mark((function n(){return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i(t));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Icon:J.Z}]}),[t,i,p.pathname,p.search,p.hash]);return(0,P.jsxs)(V.ZP,{className:e,children:[(0,P.jsx)(_.Z,{component:"span",children:r}),(0,P.jsx)(D.Z,{children:a}),(0,P.jsxs)(F.Z,{children:[(0,P.jsx)(M.Z,{onClick:Z,ref:s,children:(0,P.jsx)(B.Z,{})}),(0,P.jsx)(Y.Z,{open:d,onClose:Z,anchorEl:s.current,children:x.map((function(n){var e=n.label,t=n.Icon,r=n.href,a=n.onClick;return(0,P.jsxs)(z.Z,{component:r?U.rU:"li",to:r,onClick:a,children:[t&&(0,P.jsx)(A.Z,{children:(0,P.jsx)(t,{})}),e]},e)}))})]})]})})),nn=t(1914),en=u.memo((function(n){var e=n.className,t=(0,q.Z)(O.xT),r=(0,nn.Z)(I.W.search)||void 0,a=(0,H.wY)({userId:t,search:r}),s=a.data,c=void 0===s?[]:s,i=a.isLoading,l=a.isFetching,o=i||l;return a.isError?(0,P.jsx)(d.Z,{className:e,align:"center",children:"\u0427\u0442\u043e \u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435"}):o?(0,P.jsx)(W,{className:e}):c.length?(0,P.jsx)(E.Z,{className:e,children:c.map((function(n){return(0,u.createElement)($,(0,L.Z)((0,L.Z)({},n),{},{key:n.id}))}))}):(0,P.jsx)(d.Z,{className:e,align:"center",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043e\u0432 \u043f\u0443\u0441\u0442"})})),tn=(0,v.ZP)("form")(s||(s=(0,j.Z)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr max-content;\n\tgap: 10px;\n\n\t@media (max-width: 540px) {\n\t\tgrid-template-columns: 1fr;\n\t}\n"]))),rn=(0,v.ZP)(d.Z)(c||(c=(0,j.Z)(["\n\tgrid-column: span 3;\n\n\t@media (max-width: 540px) {\n\t\tgrid-column: span 1;\n\t\tjustify-self: center;\n\t}\n"]))),an=t(1424),sn=u.memo((function(n){var e=n.className,t=(0,q.Z)(O.xT),r=(0,H.Lr)(),a=(0,w.Z)(r,1)[0],s=(0,Z.cI)({defaultValues:{name:"",value:""},resolver:(0,f.L)(an.o)}),c=s.control,i=s.handleSubmit,l=s.formState,o=s.reset,d=l.isSubmitting,m=!l.isDirty||d,h=u.useCallback(function(){var n=(0,R.Z)((0,Q.Z)().mark((function n(e){return(0,Q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a((0,L.Z)({userId:t},e));case 2:o();case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,o,a]);return(0,P.jsxs)(tn,{className:e,onSubmit:i(h),children:[(0,P.jsx)(rn,{variant:"h6",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"}),(0,P.jsx)(b.g,{name:"name",control:c,label:"\u0418\u043c\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"}),(0,P.jsx)(b.g,{name:"value",control:c,label:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"}),(0,P.jsx)(p.Z,{variant:"outlined",type:"submit",disabled:m,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})),cn=t(803),ln=(0,v.ZP)("div")(i||(i=(0,j.Z)(["\n\tdisplay: grid;\n\trow-gap: 20px; ;\n"]))),on=t(2892),un=t(4666),dn=t(5140),mn=(0,v.ZP)(p.Z)(l||(l=(0,j.Z)(["\n\tmargin-left: auto;\n"]))),hn=u.memo((function(n){var e=n.className,t=(0,dn.Z)(),r=u.useCallback((function(){t((0,O.j2)())}),[]);return(0,P.jsx)(on.Z,{className:e,position:"sticky",children:(0,P.jsx)(un.Z,{children:(0,P.jsx)(mn,{onClick:r,color:"inherit",children:"\u0412\u044b\u0439\u0442\u0438"})})})})),Zn=(0,v.ZP)((function(n){var e=n.className,t=n.children;return(0,P.jsxs)(ln,{children:[(0,P.jsx)(hn,{}),(0,P.jsx)(cn.Z,{className:e,component:"main",children:t})]})}))(o||(o=(0,j.Z)(["\n\tdisplay: grid;\n\tgap: 15px;\n"]))),pn=function(){return(0,P.jsxs)(Zn,{children:[(0,P.jsx)(d.Z,{variant:"h2",align:"center",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),(0,P.jsx)(sn,{}),(0,P.jsx)(S,{}),(0,P.jsx)(en,{})]})}}}]);
//# sourceMappingURL=109.c61c49e6.chunk.js.map